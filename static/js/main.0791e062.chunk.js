(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{58:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},88:function(e,t,r){},89:function(e,t,r){},90:function(e,t,r){},91:function(e,t,r){},92:function(e,t,r){"use strict";r.r(t);var n=r(3),c=r(1),a=r.n(c),s=r(35),i=r.n(s),o=r(16),u=(r(79),r(80),r(14)),l=(r(81),r(19)),d=r(69),j=r(10),b=r.n(j),h=r(18),x=r(27),O=function e(){var t=this;Object(x.a)(this,e),this.createUserWithEmailAndPassword=function(){var e=Object(h.a)(b.a.mark((function e(r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.auth().createUserWithEmailAndPassword(r,n).then((function(e){var r=e.user;return t.sendEmailVerification(r),r})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.signInWithEmailAndPassword=function(){var e=Object(h.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.auth().signInWithEmailAndPassword(t,r).then((function(e){return e.user})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.sendEmailVerification=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.sendEmailVerification({url:"http://localhost:3000"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendPasswordResetEmail=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.auth().sendPasswordResetEmail(t,{url:"http://localhost:3000"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.signOut=function(){return o.a.auth().signOut()},this.getCurrentUser=function(){return o.a.auth().currentUser},o.a.auth().setPersistence(o.a.auth.Auth.Persistence.LOCAL).then((function(){})).catch((function(e){return console.log(e)}))},p=a.a.createContext(null);p.displayName="AuthContext";var f=p,m=r(9),g=function(e){var t=Object(c.useContext)(f),r=Object(c.useState)(null),a=Object(m.a)(r,2),s=a[0],i=a[1],o=function(){return Object(n.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(n.jsx)("span",{class:"sr-only",children:"Loading..."})})},u=function(){return Object(n.jsx)("div",{className:"alert alert-success",role:"alert",children:"Verification email sent!"})},l=function(){return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Unable to send email. Please try again later."})};return Object(n.jsx)("div",{className:"container vh-100 d-flex justify-content-center align-items-center",children:Object(n.jsx)("div",{className:"card text-center shadow",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{className:"card-title",children:"Please verify your email"}),Object(n.jsxs)("p",{className:"card-text",children:["You're almost there! We sent an email to ",Object(n.jsx)("strong",{children:t.getCurrentUser().email})]}),Object(n.jsxs)("p",{className:"card-text",children:["If you don't see the email, please ",Object(n.jsx)("strong",{children:"check your spam folder"}),"."]}),Object(n.jsx)("p",{className:"card-text",children:"Still can't find the email?"}),s?s.inProgress&&Object(n.jsx)(o,{})||s.success&&Object(n.jsx)(u,{})||s.error&&Object(n.jsx)(l,{}):Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),i({inProgress:!0}),t.sendEmailVerification(t.getCurrentUser()).then((function(){i({inProgress:!1,success:!0})})).catch((function(e){i({inProgress:!1,error:!0})}))},children:"Resend Email"})]})})})},v=function(e){var t=e.component,r=Object(d.a)(e,["component"]),a=Object(c.useContext)(f),s=Object(u.h)();return Object(n.jsx)(u.b,Object(l.a)(Object(l.a)({},r),{},{render:function(e){return a.getCurrentUser()?a.getCurrentUser().emailVerified?Object(n.jsx)(t,Object(l.a)({},e)):Object(n.jsx)(g,Object(l.a)({},e)):Object(n.jsx)(u.a,{to:{pathname:"/login",state:{referrer:s}}})}}))},y=r(11),w=function e(){var t=this;Object(x.a)(this,e),this.setUserData=function(){var e=Object(h.a)(b.a.mark((function e(r,n){var c,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.coords&&(c=n.coords,a=c.latitude,s=c.longitude,n=Object(l.a)(Object(l.a)({},n),{},{coords:new o.a.firestore.GeoPoint(a,s)})),e.abrupt("return",t.collection.doc(r).set(Object(l.a)({},n),{merge:!0}));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.getUserData=function(){var e=Object(h.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.collection.doc(r).get().then((function(e){return e.data()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.collection=o.a.firestore().collection("users")},C=a.a.createContext(null);C.displayName="UserContext";var N=C,P=r(45),S=r(66),k=r(44),I=r(22),U=function(e){var t=Object(c.useState)(""),r=Object(m.a)(t,2),a=r[0],s=r[1],i=Object(c.useState)(""),o=Object(m.a)(i,2),u=o[0],l=o[1];return Object(n.jsxs)(I.a,{onSubmit:function(t){t.preventDefault(),e.onSubmit(a,u)},children:[Object(n.jsxs)(I.a.Group,{controlId:"formGroupEmail",children:[Object(n.jsx)(I.a.Label,{children:"Email"}),Object(n.jsx)(I.a.Control,{type:"email",className:"LoginForm-input",onChange:function(e){return s(e.target.value)}})]}),Object(n.jsxs)(I.a.Group,{controlId:"formGroupPassword",children:[Object(n.jsx)(I.a.Label,{children:"Password"}),Object(n.jsx)(I.a.Control,{type:"password",className:"LoginForm-input",onChange:function(e){return l(e.target.value)}})]}),e.error&&Object(n.jsx)(S.a,{variant:"danger",children:e.error}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(k.a,{type:"submit",className:"px-4 LoginForm-button",children:"Login"})})]})},L=(r.p,r(88),function(e){var t=Object(c.useContext)(f),r=Object(c.useContext)(N),a=Object(u.g)(),s=Object(u.h)(),i=Object(c.useState)(""),o=Object(m.a)(i,2),l=o[0],d=o[1],j=function(e){return e&&/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)};return Object(n.jsxs)(P.a,{fluid:"sm",className:"vh-100 d-flex flex-column justify-content-center",children:[Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("img",{src:"".concat("/Pinder","/logo.png"),width:"200",alt:"Pinder logo"}),Object(n.jsx)("h1",{children:"Login"})]}),Object(n.jsx)(U,{onSubmit:function(e,n){j(e)?n?t.signInWithEmailAndPassword(e,n).then((function(e){navigator.geolocation.getCurrentPosition((function(t){r.setUserData(e.uid,{coords:t.coords})}),(function(e){console.log(e)})),s.state&&s.state.referrer?a.push(s.state.referrer.pathname):a.push("/")})).catch((function(e){return d("Invalid email or password.")})):d("Password required."):d("Valid email required.")},error:l}),Object(n.jsxs)("div",{className:"mt-4 text-center",children:[Object(n.jsx)("span",{children:"Don't have an account? "}),Object(n.jsx)(y.b,{to:"/register",children:"Register"})]}),Object(n.jsx)("div",{className:"mt-2 text-center",children:Object(n.jsx)(y.b,{to:"/password-reset",children:"Forgot password?"})})]})}),A=function(e){var t=Object(c.useState)(""),r=Object(m.a)(t,2),a=r[0],s=r[1],i=Object(c.useState)(""),o=Object(m.a)(i,2),u=o[0],l=o[1],d=Object(c.useState)(""),j=Object(m.a)(d,2),b=j[0],h=j[1],x=Object(c.useState)(""),O=Object(m.a)(x,2),p=O[0],f=O[1];return Object(n.jsxs)(I.a,{onSubmit:function(t){t.preventDefault(),e.onSubmit(a,u,b,p)},children:[Object(n.jsxs)(I.a.Group,{controlId:"name",children:[Object(n.jsx)(I.a.Label,{children:"Name"}),Object(n.jsx)(I.a.Control,{type:"text",id:"name",value:p,onChange:function(e){return f(e.target.value)},placeholder:"Your Name"})]}),Object(n.jsxs)(I.a.Group,{controlId:"email",children:[Object(n.jsx)(I.a.Label,{children:"Email"}),Object(n.jsx)(I.a.Control,{type:"email",id:"email",value:a,onChange:function(e){return s(e.target.value)},placeholder:"Email"})]}),Object(n.jsxs)(I.a.Group,{controlId:"password",children:[Object(n.jsx)(I.a.Label,{children:"Password"}),Object(n.jsx)(I.a.Control,{type:"password",id:"password",value:u,onChange:function(e){return l(e.target.value)},placeholder:"Password"})]}),Object(n.jsxs)(I.a.Group,{controlId:"password",children:[Object(n.jsx)(I.a.Label,{children:"Confirm Password"}),Object(n.jsx)(I.a.Control,{type:"password",id:"passwordConfirm",value:b,onChange:function(e){return h(e.target.value)},placeholder:"Confirm password"})]}),e.error&&Object(n.jsx)(S.a,{variant:"danger",children:e.error}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(k.a,{type:"submit",className:"px-4 LoginForm-button",children:"Login"})})]})};var D=function(e){var t=Object(c.useContext)(f),r=Object(c.useContext)(N),a=Object(u.g)(),s=Object(c.useState)(""),i=Object(m.a)(s,2),o=i[0],l=i[1],d=function(e){return e&&/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)};return Object(n.jsx)("div",{className:"container vh-100 d-flex align-items-center",children:Object(n.jsxs)("div",{className:"w-100",children:[Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("img",{src:"".concat("/Pinder","/logo.png"),width:"200",alt:"Pinder logo"}),Object(n.jsx)("h1",{children:"Register"})]}),Object(n.jsx)(A,{onSubmit:function(e,n,c,s){d(e)?n?n!==c?(l("Password and Password confirm do not match."),console.log("passwords don't match")):t.createUserWithEmailAndPassword(e,n).then((function(t){return r.setUserData(t.uid,{email:e,name:s,matches:[]})})).then((function(e){return a.push("/")})).catch((function(e){l("Error:".concat(e.message))})):l("Password required"):(l("Valid email required."),console.log("Invalid email"))},error:o}),Object(n.jsxs)("div",{className:"mt-4 text-center",children:[Object(n.jsx)("span",{children:"Already have an account?"}),Object(n.jsx)(y.b,{to:"/login",children:"Login"})]})]})})},E=(r(89),function(e){var t=Object(c.useState)(""),r=Object(m.a)(t,2),a=r[0],s=r[1],i=Object(c.useState)(null),o=Object(m.a)(i,2),u=o[0],l=o[1];return Object(n.jsxs)(I.a,{onSubmit:function(t){t.preventDefault(),a?!function(e){return e&&/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)}(a)?l("Please enter a valid email address"):(l(null),e.onSubmit(a)):l("Email is required")},noValidate:!0,children:[Object(n.jsxs)(I.a.Group,{controlId:"formGroupEmail",children:[Object(n.jsx)(I.a.Control,{type:"email",className:"PasswordReset-input",placeholder:"Email address",value:a,isInvalid:u,onChange:function(e){return s(e.target.value)}}),u&&Object(n.jsx)(I.a.Control.Feedback,{type:"invalid",children:u})]}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(k.a,{type:"submit",className:"px-4 PasswordReset-button",children:"Send password reset email"})})]})}),F=function(e){var t=Object(c.useContext)(f),r=Object(c.useState)({sent:!1}),a=Object(m.a)(r,2),s=a[0],i=a[1],o=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{className:"card-text text-center",children:"Enter your email and we'll send you a link to reset your password."}),Object(n.jsx)(E,{onSubmit:d}),Object(n.jsx)("div",{className:"text-center mt-3",children:Object(n.jsx)(y.b,{to:"/register",children:"Create an account"})}),Object(n.jsx)("div",{className:"text-center mt-2",children:Object(n.jsx)(y.b,{to:"/login",children:"Login instead"})})]})},u=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{className:"card-text text-center",children:"Check your email for a link to reset your password. If it doesn\u2019t appear within a few minutes, check your spam folder."}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(y.b,{to:"/login",children:"Back to login"})})]})},l=function(){return Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})})},d=function(e){i({sending:!0}),t.sendPasswordResetEmail(e).then((function(){i({sent:!0,sending:!1})})).catch((function(e){i({sent:!0,sending:!1})}))};return Object(n.jsx)("div",{className:"container vh-100 d-flex justify-content-center align-items-center",children:Object(n.jsx)("div",{className:"card shadow",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{className:"card-title text-center",children:"Reset Your Password"}),!s.sent&&!s.sending&&Object(n.jsx)(o,{}),s.sent&&Object(n.jsx)(u,{}),s.sending&&Object(n.jsx)(l,{})]})})})},B=r(62),G=r(67),R=r(65),z=r(96),M=function e(){var t=this;Object(x.a)(this,e),this.create=function(){var e=Object(h.a)(b.a.mark((function e(r,n,c){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.users.doc(r).get();case 2:if(e.sent.exists){e.next=5;break}return e.abrupt("return",Promise.reject("A user with uid = ".concat(r," does not exist.")));case 5:return a=t.images.child(Object(z.a)()),s=null,e.prev=7,e.next=10,a.put(n);case 10:return e.next=12,a.getDownloadURL();case 12:s=e.sent,e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",Promise.reject("Unable to upload image file."));case 18:return e.abrupt("return",t.profiles.doc().set(Object(l.a)({createdBy:r,imageUrl:s},c)));case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,r,n){return e.apply(this,arguments)}}(),this.getByProfileId=function(){var e=Object(h.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.profiles.doc(r).get().then((function(e){return Object(l.a)({id:e.id},e.data())})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getByUserId=function(){var e=Object(h.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.users.doc(r).get();case 2:if(e.sent.exists){e.next=5;break}return e.abrupt("return",Promise.reject("A user with uid = ".concat(r," does not exist.")));case 5:return e.abrupt("return",t.profiles.where("createdBy","==",r).get().then((function(e){return e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addMatch=function(){var e=Object(h.a)(b.a.mark((function e(r,n){var c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.users.doc(r).get();case 2:return c=e.sent,e.next=5,t.profiles.doc(n).get();case 5:if(a=e.sent,c.exists&&a.exists){e.next=8;break}return e.abrupt("return",Promise.reject("User or profile does not exist"));case 8:return(c=c.data()).matches.push(n),e.abrupt("return",t.users.doc(r).set(Object(l.a)({},c)));case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.getMatches=function(){var e=Object(h.a)(b.a.mark((function e(r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.users.doc(r).get();case 2:if((n=e.sent).exists){e.next=5;break}return e.abrupt("return",Promise.reject("User ".concat(r," does not exist")));case 5:return n=n.data(),e.abrupt("return",n.matches.length?t.profiles.where(o.a.firestore.FieldPath.documentId(),"in",n.matches).get().then((function(e){return e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())}))})):[]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMatchSuggestions=function(){var e=Object(h.a)(b.a.mark((function e(r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.users.doc(r).get();case 2:if((n=e.sent).exists){e.next=5;break}return e.abrupt("return",Promise.reject("User ".concat(r," does not exist")));case 5:return n=n.data(),e.abrupt("return",n.matches.length?t.profiles.where(o.a.firestore.FieldPath.documentId(),"not-in",n.matches).get().then((function(e){return e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())}))})).then((function(e){return e.filter((function(e){return e.createdBy!==r}))})):t.profiles.where("name","!=","").get().then((function(e){return e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())}))})).then((function(e){return e.filter((function(e){return e.createdBy!==r}))})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.users=o.a.firestore().collection("users"),this.profiles=o.a.firestore().collection("profiles"),this.images=o.a.storage().ref().child("images")},V=a.a.createContext(null);V.displayName="ProfileContext";var W=V,Z=(r(58),r(38)),T=r(64),Y=r(63);r(90);var q=function(e){return Object(n.jsxs)(Z.a,{collapseOnSelect:!0,expand:"lg",children:[Object(n.jsx)(Z.a.Brand,{children:Object(n.jsx)(y.b,{to:"/",children:Object(n.jsx)(Y.a,{src:"".concat("/Pinder","/logo.png"),alt:"Pinder Logo"})})}),Object(n.jsx)(Z.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsx)(Z.a.Collapse,{id:"responsive-navbar-nav",children:Object(n.jsxs)(T.a,{className:"mr-auto",children:[Object(n.jsx)(y.b,{to:"/",children:"Dashboard"}),Object(n.jsx)(y.b,{to:"/find",children:"Find a Furry Friend"}),Object(n.jsx)(y.b,{to:"/profiles",children:"Find a Human"}),Object(n.jsx)(y.b,{to:"/logout",children:"Logout"})]})})]})},$=function(e){Object(G.a)(r,e);var t=Object(R.a)(r);function r(e){var n;return Object(x.a)(this,r),(n=t.call(this,e)).state={profiles:[]},n}return Object(B.a)(r,[{key:"componentDidMount",value:function(){var e=Object(h.a)(b.a.mark((function e(){var t,r,n,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.authService,n=t.profileService,c=r.getCurrentUser(),e.next=4,n.getMatches(c.uid);case 4:a=e.sent,this.setState({profiles:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.profiles;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(q,{}),Object(n.jsx)("p",{className:"h1",children:"Your Matches"}),Object(n.jsx)("hr",{}),e.length?e.map((function(e){return Object(n.jsx)(y.b,{to:"/profiles/".concat(e.id),style:{textDecoration:"none",color:"#212121"},children:Object(n.jsx)("div",{className:"card mb-1 shadow",style:{maxWidth:"100%"},children:Object(n.jsxs)("div",{className:"row no-gutters",children:[Object(n.jsx)("div",{className:"col-4",children:Object(n.jsx)("img",{className:"card-image",src:e.imageUrl,alt:"",width:350})}),Object(n.jsx)("div",{className:"col-8",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("div",{className:"card-title",children:e.name}),Object(n.jsx)("div",{className:"card-text",children:e.breed}),Object(n.jsx)("div",{className:"card-text",children:"Description Here"})]})})]})})})})):Object(n.jsx)("p",{children:"You do not have any matches yet \u2639"})]})}}]),r}(a.a.Component);var _=function(){return Object(n.jsx)(f.Consumer,{children:function(e){return Object(n.jsx)(W.Consumer,{children:function(t){return Object(n.jsx)($,{authService:e,profileService:t})}})}})},J=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},H=function(){var e=Object(c.useContext)(W),t=Object(c.useState)(null),r=Object(m.a)(t,2),a=r[0],s=r[1],i=Object(u.i)({path:"/profiles/:id",strict:!0,sensitive:!0}).params.id;return e.getByProfileId(i).then((function(e){return s(e)})).catch((function(e){return console.log(e)})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(q,{}),a?Object(n.jsx)("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:Object(n.jsxs)("div",{className:"card shadow",style:{width:"18rem"},children:[Object(n.jsx)("img",{className:"card-img-top",src:a.imageUrl,alt:""}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{className:"card-title",children:a.name}),Object(n.jsxs)("p",{className:"card-text",children:[J(a.breed),Object(n.jsx)("br",{}),J(a.gender),Object(n.jsx)("br",{}),a.age," years old"]}),Object(n.jsx)("p",{className:"card-ext small",children:a.bio})]})]})}):Object(n.jsx)("p",{children:"Profile not found"})]})};var K=function(){return Object(n.jsx)(f.Consumer,{children:function(e){return Object(n.jsx)(W.Consumer,{children:function(t){return Object(n.jsx)(H,{authService:e,profileService:t})}})}})},X=function(e){var t=Object(c.useContext)(f),r=Object(u.g)(),a=Object(c.useState)(""),s=Object(m.a)(a,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){console.log("Logging out"),t.signOut().then(r.push("/login")).catch((function(e){return o("Error logging out")}))})),Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:i})},Q=r(68),ee=r(31),te=(r(91),function(){var e=Object(c.useContext)(f),t=Object(c.useContext)(W),r=Object(c.useRef)(null),a=Object(c.useState)([]),s=Object(m.a)(a,2),i=s[0],o=s[1],u=function(n){"left"===n?r.current.className+=" slide-out-left":"right"===n&&(t.addMatch(e.getCurrentUser().uid,i[0].id),r.current.className+=" slide-out-right")},l={backgroundColor:"#D5A6BD",borderColor:"#D5A6BD",color:"#212121"};return Object(c.useEffect)((function(){i.length||t.getMatchSuggestions(e.getCurrentUser().uid).then((function(e){o(e)}))}),[]),Object(n.jsx)(P.a,{className:"d-flex flex-column align-items-center py-5",children:i.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(ee.a,{style:{width:"18rem"},ref:r,onAnimationEnd:function(){var e=Object(Q.a)(i),t=(e[0],e.slice(1));o(t),setTimeout((function(){r&&r.current&&(r.current.className="card")}),500)},children:[Object(n.jsx)("div",{style:{backgroundImage:"url(".concat(i[0].imageUrl,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:Object(n.jsx)(ee.a.Img,{variant:"top",width:286,height:358,style:{visibility:"hidden"}})}),Object(n.jsxs)(ee.a.Body,{children:[Object(n.jsx)(ee.a.Title,{children:i[0].name}),Object(n.jsx)(ee.a.Text,{children:i[0].breed})]})]}),Object(n.jsxs)("div",{className:"mt-4",children:[Object(n.jsx)(k.a,{className:"mr-2",style:l,onClick:function(){return u("left")},children:"Swipe Left"}),Object(n.jsx)(k.a,{style:l,onClick:function(){return u("right")},children:"Swipe Right"})]})]}):Object(n.jsx)("p",{children:"You have no potential matches"})})}),re=function(){var e=Object(c.useContext)(f),t=Object(c.useContext)(W),r=Object(c.useState)([]),a=Object(m.a)(r,2),s=a[0],i=a[1],o=function(e){return{backgroundImage:"url(".concat(e.imageUrl,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return Object(c.useEffect)((function(){t.getByUserId(e.getCurrentUser().uid).then((function(e){return i(e)}))}),[]),Object(n.jsxs)("div",{className:"container pb-5",children:[Object(n.jsx)(q,{}),Object(n.jsx)("p",{className:"h1",children:"Your Profiles"}),Object(n.jsx)("hr",{}),s.length?s.map((function(e){return Object(n.jsx)(y.b,{to:"/profiles/".concat(e.id),style:{textDecoration:"none",color:"#212121"},children:Object(n.jsx)("div",{className:"card mb-3",children:Object(n.jsxs)("div",{className:"row no-gutters",children:[Object(n.jsx)("div",{className:"col-4",style:o(e)}),Object(n.jsx)("div",{className:"col-8",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{className:"card-title",children:e.name}),Object(n.jsxs)("p",{className:"card-text",children:[u(e.gender)," ",u(e.breed),Object(n.jsx)("br",{}),e.age," years old"]})]})})]})},e.id)})})):Object(n.jsx)("p",{children:"You don't have any profiles yet \u2639"}),Object(n.jsx)(y.b,{to:"/create",children:Object(n.jsx)("button",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#D5A6BD",border:"1px solid #D5A6BD",fontSize:"64px",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",bottom:"20px",right:"30px"},children:Object(n.jsx)("p",{children:"+"})})})]})},ne=function(e){var t=Object(u.g)(),r=Object(c.useState)(""),a=Object(m.a)(r,2),s=a[0],i=a[1],o=Object(c.useState)(""),l=Object(m.a)(o,2),d=l[0],j=l[1],b=Object(c.useState)("male"),h=Object(m.a)(b,2),x=h[0],O=h[1],p=Object(c.useState)("dog"),f=Object(m.a)(p,2),g=f[0],v=f[1],y=Object(c.useState)(""),w=Object(m.a)(y,2),C=w[0],N=w[1],P=Object(c.useState)(""),U=Object(m.a)(P,2),L=U[0],A=U[1],D=Object(c.useState)(null),E=Object(m.a)(D,2),F=E[0],B=E[1],G=Object(c.useState)(""),R=Object(m.a)(G,2),z=R[0],M=R[1];return Object(n.jsxs)(I.a,{onSubmit:function(r){r.preventDefault();var n={name:s,type:g,breed:d,gender:x,age:C,bio:L};e.onSubmit(e.user.uid,F,n).then((function(){return t.replace("/profiles")}))},children:[Object(n.jsxs)(I.a.Group,{controlId:"name",children:[Object(n.jsx)(I.a.Label,{children:"Name"}),Object(n.jsx)(I.a.Control,{type:"text",value:s,onChange:function(e){return i(e.target.value)}})]}),Object(n.jsxs)(I.a.Group,{controlId:"type",children:[Object(n.jsx)(I.a.Label,{children:"Type"}),Object(n.jsx)(I.a.Check,{type:"radio",label:"Dog",id:"type-radio-male",checked:"dog"===g,onClick:function(){return v("dog")}}),Object(n.jsx)(I.a.Check,{type:"radio",label:"Cat",id:"type-radio-female",checked:"cat"===g,onClick:function(){return v("cat")}})]}),Object(n.jsxs)(I.a.Group,{controlId:"breed",children:[Object(n.jsx)(I.a.Label,{children:"Breed"}),Object(n.jsx)(I.a.Control,{type:"text",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(n.jsxs)(I.a.Group,{controlId:"gender",children:[Object(n.jsx)(I.a.Label,{children:"Gender"}),Object(n.jsx)(I.a.Check,{type:"radio",label:"Male",id:"gender-radio",checked:"male"===x,onClick:function(){return O("male")}}),Object(n.jsx)(I.a.Check,{type:"radio",label:"Female",id:"gender-radio",checked:"female"===x,onClick:function(){return O("female")}})]}),Object(n.jsxs)(I.a.Group,{controlId:"age",children:[Object(n.jsx)(I.a.Label,{children:"Age"}),Object(n.jsx)(I.a.Control,{type:"text",value:C,onChange:function(e){return N(e.target.value)}})]}),Object(n.jsxs)(I.a.Group,{controlId:"bio",children:[Object(n.jsx)(I.a.Label,{children:"Bio"}),Object(n.jsx)(I.a.Control,{as:"textarea",rows:3,value:L,onChange:function(e){return A(e.target.value)}})]}),Object(n.jsxs)(I.a.Group,{controlId:"profile-picture",children:[Object(n.jsx)(I.a.Label,{children:"Profile Picture"}),Object(n.jsx)(I.a.File,{id:"profil-picture-file",onChange:function(e){return function(e){B(e);var t=new FileReader;t.onload=function(e){M(e.target.result)},t.readAsDataURL(e)}(e.target.files[0])}}),Object(n.jsx)("img",{src:z,width:200})]}),e.error&&Object(n.jsx)(S.a,{variant:"danger",children:e.error}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(k.a,{type:"submit",className:"px-4 LoginForm-button",children:"Create"})})]})},ce=function(){var e=Object(c.useContext)(f),t=Object(c.useContext)(W);return Object(n.jsxs)(P.a,{fluid:"sm",className:"py-5",children:[Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("img",{src:"".concat("/Pinder","/logo.png"),width:200}),Object(n.jsx)("h1",{children:"Create a Profile"})]}),Object(n.jsx)(ne,{user:e.getCurrentUser(),onSubmit:t.create})]})};var ae=function(){return Object(n.jsxs)(u.d,{children:[Object(n.jsx)(v,{path:"/",exact:!0,component:_}),Object(n.jsx)(v,{exact:!0,path:"/profiles",component:re}),Object(n.jsx)(v,{path:"/profiles/:id",component:K}),Object(n.jsx)(v,{path:"/find",component:te}),Object(n.jsx)(v,{path:"/create",component:ce}),Object(n.jsx)(u.b,{path:"/login",component:L}),Object(n.jsx)(u.b,{path:"/register",component:D}),Object(n.jsx)(u.b,{path:"/password-reset",component:F}),Object(n.jsx)(u.b,{path:"/logout",component:X})]})},se=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,97)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};o.a.initializeApp({apiKey:"AIzaSyBJzkVwWx0nDqqMut_mraN1ZKw82VgUbX4",authDomain:"pinder-6ec9b.firebaseapp.com",databaseURL:"https://pinder-6ec9b.firebaseio.com",projectId:"pinder-6ec9b",storageBucket:"pinder-6ec9b.appspot.com",messagingSenderId:"563327013812",appId:"1:563327013812:web:3e8729f44170390227d8e1",measurementId:"G-2G2SP3TPW"}),i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(f.Provider,{value:new O,children:Object(n.jsx)(N.Provider,{value:new w,children:Object(n.jsx)(W.Provider,{value:new M,children:Object(n.jsx)(y.a,{basename:"/Pinder",children:Object(n.jsx)(ae,{})})})})})}),document.getElementById("root")),se()}},[[92,1,2]]]);
//# sourceMappingURL=main.0791e062.chunk.js.map